<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
        <link rel="stylesheet" href="/css/navSide.css">
</head>
<body>
       <%-include("adminNav.ejs")%>
    <div class="container-fluid px-0">
  <div class="row g-0 high">
    
    <div class="col-2 p-0">
      <%- include("aside.ejs") %>
    </div>
    <div class="col-10 p-5">
        <div class="container mt-5 w-50">
  <div class="card shadow p-4">
    <h2 class="mb-4 text-center">Add Category</h2>
    <form action="/catdataAdd" method="POST">
      <div class="mb-3">
        <label for="name" class="form-label">Category Name</label>
        <input type="text" id="name" name="catname" class="form-control" placeholder="Enter Category Name" required
        pattern="^[A-Za-z\s]{4,50}$" title="Only letters and spaces, 2-50 characters">
        <div id="error" style="color: red; font-size: 0.9em;"></div>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
        <%= msg %>
    </form>
  </div>
</div>


</div>

        </div>
</div>

<script>
    const form = document.getElementById('categoryForm');
    const nameInput = document.getElementById('name');
    const errorDiv = document.getElementById('error');

    form.addEventListener('submit', function(event) {
      const value = nameInput.value.trim();
      const validPattern = /^[A-Za-z\s]{2,50}$/;

      errorDiv.textContent = ""; // Clear any previous error
      if (!validPattern.test(value)) {
        errorDiv.textContent = "Category name must be 2â€“50 letters/spaces only.";
        event.preventDefault();
      }
    });
  </script>

</body>
</html>